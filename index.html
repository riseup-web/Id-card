<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Rise Up ID Generator</title>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
body {
  font-family: Arial;
  background:#eef2f3;
  display:flex;
  justify-content:center;
  padding:20px;
}

.container {
  display:flex;
  gap:20px;
  flex-wrap:wrap;
}

.form {
  background:#fff;
  padding:15px;
  width:260px;
  border-radius:10px;
  box-shadow:0 0 10px #0002;
}

.form input, .form button {
  width:100%;
  padding:8px;
  margin-bottom:10px;
}

.form button {
  background:#1f8f3a;
  color:white;
  border:none;
  border-radius:5px;
}

#card {
  width:350px;
  aspect-ratio:3/4;
  background:url('https://i.ibb.co/LzY76SMR/card-png.png') center/cover no-repeat;
  position:relative;
  border-radius:12px;
  box-shadow:0 0 15px #0004;
}

.text {
  position:absolute;
  width:100%;
  text-align:center;
  font-weight:bold;
}

#name { top:60%; font-size:22px; }
#role { top:68%; font-size:16px; color:green; }

#code { top:76%; font-size:14px; text-align:left; padding-left:40px; }
#phone { top:81%; font-size:14px; text-align:left; padding-left:40px; }
#date { top:86%; font-size:14px; text-align:left; padding-left:40px; }

#photo {
  position:absolute;
  top:32%;
  left:50%;
  transform:translateX(-50%);
  width:100px;
  height:100px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid #2e7d32;
  display:none;
}
</style>
</head>

<body>
<div class="container">

  <div class="form">
    <h3>Fill ID Details</h3>
    <input id="iName" placeholder="Name">
    <input id="iRole" placeholder="Role">
    <input id="iCode" placeholder="Leader Code">
    <input id="iPhone" placeholder="Phone">
    <input id="iDate" type="date">
    <input id="iPhoto" type="file" accept="image/*">
    <button onclick="generate()">Generate</button>
    <button onclick="downloadCard()">Download PNG</button>
  </div>

  <div id="card">
    <img id="photo">
    <div id="name" class="text">{{Name}}</div>
    <div id="role" class="text">{{Role}}</div>
    <div id="code" class="text">Leader code : {{Code}}</div>
    <div id="phone" class="text">PHONE : {{Phone}}</div>
    <div id="date" class="text">Date of join : {{Date}}</div>
  </div>

</div>

<script>
function generate(){
  name.innerText = iName.value || "{{Name}}";
  role.innerText = iRole.value || "{{Role}}";
  code.innerText = "Leader code : " + (iCode.value || "{{Code}}");
  phone.innerText = "PHONE : " + (iPhone.value || "{{Phone}}");
  date.innerText = "Date of join : " + (iDate.value || "{{Date}}");
}

iPhoto.onchange = function(){
  const reader = new FileReader();
  reader.onload = e => {
    photo.src = e.target.result;
    photo.style.display = "block";
  };
  reader.readAsDataURL(this.files[0]);
};

function downloadCard(){
  html2canvas(card).then(canvas=>{
    const link = document.createElement("a");
    link.download = "riseup-id.png";
    link.href = canvas.toDataURL();
    link.click();
  });
}
</script>
</body>
</html>
